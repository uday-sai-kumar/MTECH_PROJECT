print("hello uday")

import pandas as pd
from malware_set import MalwareSet as ms
import os
from create_data_frame import CreateDataFrame as cdf
from read_file import ReadFile as rf
import feature_selection

def _start():

    file_path = '/Users/udaysaikumar/Documents/THESIS/CODES/DATASET/feature_vectors'
    all_files = os.listdir(file_path)
    data_set = []
    _set = ms.read_malware_files()
    dependent_column = []
    for _file in all_files:
        _file_content = rf.read_file(file_path+'/'+_file)
        data_set.append(_file_content)
        if _file in _set:
            dependent_column.append(1)
        else:
            dependent_column.append(0)

    X = cdf.create_data_frame(data_set)
    y = cdf.create_data_frame(dependent_column)
    _data = pd.concat([X,y],axis=1)
    a = ['f' + str(i) for i in range(1, 9)]
    a.append('m_or_b')
    _data.columns = a
   # print(_data.tail(30))
    _data.to_csv('_feature_vectors.csv', index=False)


def __start():
    _data = pd.read_csv('_feature_vectors.csv')
    #feature_selection.select_k_best(_data)
    #feature_selection.extree_tree_classifier(_data)
    feature_selection.recursive_feature_elimination(_data)






    #_data = pd.read_csv('feature_vectors.csv')



#_start()
__start()